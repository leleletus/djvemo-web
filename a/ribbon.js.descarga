var __awaiter=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((l=l.apply(e,a||[])).next())})};window.ribbon=function(y,C){const v=function(){let w=void 0;return function(r,o,a,x,t){return __awaiter(this,void 0,void 0,function*(){if(t){var i=w;if(null!=i&&i.noCodeEvents)for(const e of i.noCodeEvents)(function(e,t,n){let i;switch(t){case"contains":i=e.includes(n);break;case"ends-with":i=e.endsWith(n);break;case"starts-with":i=e.startsWith(n);break;case"regex":try{i=!!e.match(RegExp(n))}catch(e){i=!1}break;default:i=!1}return i})(y.location.href,e.noCode.rule,e.noCode.matchText)&&v("trigger",e.name)}else if(!B.ribbon.triggered){if("identify"===r&&("string"==typeof o?l(o):console.error("Identify function only takes strings")),"attribute"===r)return"string"!=typeof o?void console.error("Failed set single attribute call"):void n({[o]:a});if("attributes"!==r){if("identify"===r)return"string"!=typeof o?void console.error("Failed identity call"):void l(o);if("trigger"===r){if("string"!=typeof o)return void console.error("Trigger call failed");r=o,o=void 0}r||"string"!=typeof o||null!=o&&o.match(/^[0-9a-fA-F]{24}$/)||null!=o&&o.match(/^[0-9a-fA-F]{32}$/)||([r,o]=[o,r]),r&&"string"==typeof o&&(r.match(/^[0-9a-fA-F]{24}$/)||r.match(/^[0-9a-fA-F]{32}$/))&&([r,o]=[o,r]),a=a||B.ribbon.ribbonScriptEnv,o=o||B.ribbon.ribbonID;let e,t,n;if("string"==typeof a&&0<a.length)if("development"==a)n=a;else{if("preview"==a)return void(n="preview");n="production"}else n=null!=C.currentScript&&null!=B.ribbon.ribbonScriptEnv&&B.ribbon.ribbonScriptEnv||"production";e="string"==typeof o&&0<o.length?o:B.ribbon.ribbonID,t="string"==typeof r&&0<r.length?r:"global";i=c.get("ribbonpreview");const m=s();yield fetch(m.concat("api/recruit/").concat(e).concat("/r/").concat(encodeURIComponent(t)).concat("development"==n?"/development":""),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({attributes:g(),identity:b(),apid:d(),token:p(),options:{ribbonpreview:"true"===i}})}).then(e=>{const t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json"))return e.json()}).then(e=>{if(x){null===(w=e.settings)||void 0===w||w.noCodeEvents;{const h=history.pushState,f=(history.pushState=function(){var e=h.apply(this,arguments);return y.dispatchEvent(new Event("pushstate")),y.dispatchEvent(new Event("locationchange")),e},history.replaceState);history.replaceState=function(){var e=f.apply(this,arguments);return y.dispatchEvent(new Event("replacestate")),y.dispatchEvent(new Event("locationchange")),e},y.addEventListener("popstate",()=>{y.dispatchEvent(new Event("locationchange"))}),y.addEventListener("locationchange",()=>{v(void 0,void 0,void 0,void 0,!0)})}}var t,n,i,r,o,a,s,l,b,d,p,g,u,c;e&&(e.apid&&(t=e.apid,localStorage.setItem("ribbon_apid."+B.ribbon.ribbonID,t)),e.token&&(t=e.token,localStorage.setItem("ribbon_token."+B.ribbon.ribbonID,t)),e.userRecruitSpecs&&(n=e.userRecruitSpecs.roomHandle,c=e.userRecruitSpecs.path,i=e.userRecruitSpecs.recruitMessage,r=e.userRecruitSpecs.notificationCTA,o=e.userRecruitSpecs.notificationHex,a=e.userRecruitSpecs.widgetTypeIsNotification,s=e.userRecruitSpecs.widgetPosition,l=e.userRecruitSpecs.notificationButtonCornerRadius,b=e.userRecruitSpecs.notificationCornerRadius,d=e.userRecruitSpecs["fullWidthButton"],{invertTextColor:p,incentiveOptions:g}=e.userRecruitSpecs,u=e.userRecruitSpecs.screeningSurvey,e=e.userRecruitSpecs.ctrOrigin,c=m.concat(c),"string"==typeof n&&""!=n&&E(c,i,r,o,a,s,l,b,d,p,u,g,void 0,e)))}).catch(e=>console.error("E: "+e))}else"string"!=typeof o&&n(o)}})}}();class t extends Array{constructor(e){super(...e),Object.setPrototypeOf(this,t.prototype)}push(...e){var t=super.push(...e);return v(...arguments),t}}const c=new URLSearchParams(y.location.search);function s(){var e=new RegExp("^https?://([wd]+.)?(.*?)/");let t=B.ribbon.ribbonSrcUrl.match(e)[0];return t=(t=(t=t.includes("tryribbon")?t.replace("tryribbon","ribbonapp"):t).includes("://ribbonapp")&&!t.includes("www")?t.replace("://","://www."):t).includes("ribbonapp")&&t.includes("cdn")?t.replace("cdn.","www."):t}const R=(e,t)=>{const n=s();fetch(n.concat("api/recruit/").concat(e).concat("/s/").concat(t?"show":"denial"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","Access-Control-Max-Age":"600"},redirect:"follow",referrerPolicy:"no-referrer"})};var e;const B=y;if(B.ribbon.loaded)throw new Error("Ribbon script already loaded, will not load again");if(B.ribbon.triggered=!1,B.ribbon.ribbonSrcUrl=C.currentScript.src,B.ribbon.ribbonScriptEnv=C.currentScript.getAttribute("env"),B.ribbon.identity=null,B.ribbon.attributes={},B.ribbon&&(B.ribbon.ribbonSrcUrl=C.currentScript.src,B.ribbon.ribbonScriptEnv=C.currentScript.getAttribute("env"),B.ribbon.identity=null,B.ribbon.attributes={}),C.currentScript.getAttribute("ribbonID")?B.ribbon.ribbonID=C.currentScript.getAttribute("ribbonID"):B.ribbon.ribbonID=B.ribbon.ribbonID,B.ribbon){for(;0<B.ribbon._q.length;)Array.isArray(B.ribbon._q)&&(e=B.ribbon._q.shift(),v(...e));B.ribbon._q=new t([...B.ribbon._q])}function E(h,f,m,s,e,x,w,y,v,r,l,o,c,E){var{incentiveAmount:o=void 0,incentiveText:$=void 0}=o&&o.offerIncentive&&o||{},$=$+" $"+o;const b=Boolean(c);if(b){const p=C.getElementById("ribbon-widget-element-banner-wrapper");null!=p&&p.remove()}else B.ribbon.triggered=!0;if(null===C.getElementById("ribbon-widget-element-banner-wrapper")||b){var d,p=C.createElement("div"),S=(p.setAttribute("id","ribbon-widget-element-banner-wrapper"),'font-family: "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;font-size: 100%;font-style: normal;font-weight: 400;line-height: inherit;text-align: start;-webkit-font-smoothing: antialiased');let i;if(b){const t=C.getElementById(c);if(i="relative",null==t)throw console.error(`Preview display area ${c} not found`),new Error("Preview display element with id "+c+" not found");t.appendChild(p)}else i="fixed",C.body.appendChild(p);if(1==e){let e,t,n;switch(x){case"bottomLeft":e="left",t="right",n="bottom";break;case"bottomRight":e="right",t="left",n="bottom";break;case"topRight":e="right",t="left",n="top";break;case"topLeft":e="left",t="right",n="top";break;default:e="left",n="bottom",t="right"}p.style.cssText=`position: ${i};${n}: 10px;${e}:10px;margin-${t}:10px;width 100%;display: flex;justify-content: center;${b?"":"z-index: 99999999"};`+S,(g=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box"),g.style.cssText=`display: table;width: 300px;min-width:200px;box-sizing: border-box;box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);transition-property: transform, opacity;transition-duration: 0.2s;transition-timing-function: ease-out;line-height: 1.43;background-color: #fff;opacity: 1;pointer-events: auto;font-size: 14px;border-radius:${y}px;`;const k=C.getElementById("ribbon-widget-element-banner-wrapper");k.appendChild(g);let a;if(o&&0<o&&((a=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-incentive"),a.style.cssText=`color: #615f73;display: block;text-align-last: ${v?"center":"right"};padding-bottom:5px;`,a.innerHTML=$),l){(u=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-message"),u.style.cssText="color:#39364f ;vertical-align: middle;display: table-cell; width:100%;padding-top:20px;padding-left:20px;padding-right:20px;padding-bottom:15px;",C.getElementById("ribbon-widget-element-banner-box").appendChild(u);const A=[];l.questions.map(o=>{const n=[];let a=[];var e=o.options.length;for(a.push(!0);2*a.length<=e;)a=a.concat(a);a.length<e&&(a=a.concat(a.slice(0,e-a.length))),o.logic.forEach(e=>{if(e){const{chosenOption:i,chosenLogic:t,chosenAction:r}=e;let n;o.options.forEach((e,t)=>{e.optionText==i&&(n=t)}),"is"==t&&"progress user"==r||"is not"==t&&"reject user"==r?a.forEach((e,t)=>{t!=n&&(a[t]=!1)}):("is not"==t&&"progress user"==r||"is"==t&&"reject user"==r)&&a.forEach((e,t)=>{t==n&&(a[t]=!1)})}}),o.options.map((e,t)=>{t=`<a data-success="${a[t]}" id="survey-answer-${t}" style="color:#39364f; display:block;cursor: pointer;text-decoration:none;textAlign:center;fontWeight:400;background-color:${s}1C;color:#${s};padding:.54688rem;margin-top:5px;font-size:14px;font-size: 14px;
            border-radius:${w}px;
            text-align:center;width:-moz-calc(100%-40px);width:-webkit-calc(100%-40px);width:-o-calc(100%-40px);width:calc(100%-40px);margin:0 auto;margin-bottom:5px;" target="_blank">${e.optionText}</a>`;n.push(t)});var t=`<span style="color:#39364f;display:block;margin-bottom:10px;margin-right:20px;">${o.questionText}</span>`+n.join("");A.push(t)});let i;let r=0,o;o=b?"":h.includes("?")?"&":"?";const T=(e,t)=>{i="false"===e.target.dataset.success,0==r?o+=`q=${r}&a=`+t:o+=`&q=${r}&a=`+t,r++;e=A[r];if(u.innerHTML=e,r===l.questions.length||i){if(i)E&&R(E,!1),u.setAttribute("id","ribbon-widget-element-banner-box-message"),u.style.cssText="color:#39364f ;vertical-align: middle;display: table-cell; width:100%;padding-top:20px;padding-left:20px;padding-right:20px;padding-bottom:20px;",u.innerHTML=`<span style="color:#39364f;display:block;margin-right:20px;">${l.denialMessage}</span>`;else if(E&&R(E,!0),u.setAttribute("id","ribbon-widget-element-banner-box-message"),u.style.cssText="color:#39364f ;vertical-align: middle;display: table-cell; width:100%;padding-top:20px;padding-left:20px;padding-right:20px;padding-bottom:20px;",u.innerHTML=`<span style="color:#39364f;display:block;margin-right:20px;margin-bottom:10px;">${f}</span><a id="ribbon-widget-element-banner-box-button" style="display:block;text-decoration:none;textAlign:center;fontWeight:400;background-color:${s};color:#fff;padding:.54688rem;font-size:14px;border-radius:${w}px;text-align:center;${1==v?"width:-moz-calc(100%-40px);width:-webkit-calc(100%-40px);width:-o-calc(100%-40px);width:calc(100%-40px);margin:0 auto;":"float:right;"}" href="${h+o}" target="${b?"_self":"_blank"}" >${m}</a>`,a){const n=C.getElementById("ribbon-widget-element-banner-box-button");n&&n.before(a)}}else l.questions[r].options.map((e,t)=>{C.getElementById("survey-answer-"+t).onclick=function(e){T(e,t)}})};c=A[r];u.innerHTML=c,l.questions[0].options.map((e,t)=>{C.getElementById("survey-answer-"+t).onclick=function(e){T(e,t)}})}else{var g,u,p=C.createElement("div");if(p.setAttribute("id","ribbon-widget-element-banner-wrapper"),p.style.cssText=`position: fixed;${n}: 10px;${e}:10px;margin-${t}:10px;width 100%;display: flex;justify-content: center;`+(b?"":"z-index: 99999999"),C.body.appendChild(p),(g=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box"),g.style.cssText=`display: table;max-width: 400px;box-sizing: border-box;box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);transition-property: transform, opacity;transition-duration: 0.2s;transition-timing-function: ease-out;line-height: 1.43;background-color: #fff;opacity: 1;pointer-events: auto;font-size: 14px;border-radius:${y}px;`,C.getElementById("ribbon-widget-element-banner-wrapper").appendChild(g),(u=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-message"),u.style.cssText="vertical-align: middle;display: table-cell; width:100%;padding-top:20px;padding-left:20px;padding-right:20px;padding-bottom:20px;",C.getElementById("ribbon-widget-element-banner-box").appendChild(u),u.innerHTML=`<span id="" style="color:#39364f;display:block;margin-bottom:10px;margin-right:20px;">${f}</span><a id="ribbon-widget-element-banner-box-button" style="display:block;text-decoration:none;textAlign:center;fontWeight:400;background-color:${s};color:${r?"#000":"#fff"};padding:.54688rem;font-size:14px;border-radius:${w}px;text-align:center;
        ${1==v?"width:-moz-calc(100%-40px);width:-webkit-calc(100%-40px);width:-o-calc(100%-40px);width:calc(100%-40px);margin:0 auto;":"float:right;"}
          " href="${h}" target="${b?"_self":"_blank"}">${m}</a>`,o&&0<o){const _=C.getElementById("ribbon-widget-element-banner-box-button");_&&_.before(a)}}(d=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-close"),C.getElementById("ribbon-widget-element-banner-box").appendChild(d);const I=C.createElement("img");I.src="https://ribbonapp.com/p/svg/close.svg",I.style.cssText="width:24px;height:24px;margin-top:10px;margin-right:10px;float:right;",d.style.cssText="cursor:pointer;width:44px;height:44px;position:absolute;top:0;right:0;color:#d9d9d9;",d.appendChild(I),d.addEventListener("click",()=>{if(!b){const e=C.getElementById("ribbon-widget-element-banner-box");e.style.display="none"}},!1)}else{let e;switch(x){case"top":e="top";break;case"bottom":e="bottom";break;default:e="top"}p.style.cssText=`position: ${i};${e}: 0px;left:0px;width 100%;justify-content: center;${b?"":"z-index: 99999999"}; width: 100%;;`+S,(g=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box"),g.style.cssText=`display: table;width: 100%;box-sizing: border-box;box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);transition-property: transform, opacity;transition-duration: 0.2s;transition-timing-function: ease-out;line-height: 1.43;background-color: ${s};opacity: 1;pointer-events: auto;font-size: 14px`;const n=C.getElementById("ribbon-widget-element-banner-wrapper");if(n){n.appendChild(g),(u=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-message"),u.style.cssText="text-align: center;vertical-align: middle;display: table-cell; width:100%;padding-top:20px;padding-left:35px;padding-right:35px;padding-bottom:20px;",C.getElementById("ribbon-widget-element-banner-box").appendChild(u),u.innerHTML=`<span style="margin-bottom:10px;color:${r?"#000":"#fff"}">${f} ${o&&0<o?$+".":""} </span><strong><a style="text-decoration:underline;textAlign:center;fontWeight:400;background-color:${s};color:${r?"#000":"#fff"};font-size:14px;"  href="${h}" target="${b?"_self":"_blank"}" target="_blank">${m} →</a></strong>`,(d=C.createElement("div")).setAttribute("id","ribbon-widget-element-banner-box-close"),C.getElementById("ribbon-widget-element-banner-box").appendChild(d);const a=C.createElement("div");a.innerHTML+=`<svg width="72" height="72" viewBox="0 0 72 72" style="width:24px;height:24px;margin-top:10px;margin-right:10px;float:right;" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 17.5L54.5 54.5" stroke=${r?"black":"white"} stroke-width="4" stroke-miterlimit="10"/><path d="M54.5 17.5L17.5 54.5" stroke=${r?"black":"white"} stroke-width="4" stroke-miterlimit="10"/></svg>`,d.style.cssText="cursor:pointer;width:44px;height:44px;position:absolute;top:0;right:0;",d.appendChild(a),d.addEventListener("click",()=>{const e=C.getElementById("ribbon-widget-element-banner-box");e.style.display="none"},!1)}else console.error("Failed to locate element ribbon-widget-element-banner-wrapper - aborting widget display")}}}function l(e){var t=b();localStorage.setItem("ribbon_id."+B.ribbon.ribbonID,e),t!==e&&localStorage.removeItem("ribbon_attributes."+B.ribbon.ribbonID)}function b(){return localStorage.getItem("ribbon_id."+B.ribbon.ribbonID)}function d(){return localStorage.getItem("ribbon_apid."+B.ribbon.ribbonID)}function p(){return localStorage.getItem("ribbon_token."+B.ribbon.ribbonID)}function n(e){var t,n=g(),n=Object.assign(Object.assign({},n),e);e=n,t=Object.keys(e).length,e=JSON.stringify(e).length,100<t||102400<e?console.error("failed to validate attributes - cannot set new attributes"):(t=JSON.stringify(n),localStorage.setItem("ribbon_attributes."+B.ribbon.ribbonID,t))}function g(){var e=localStorage.getItem("ribbon_attributes."+B.ribbon.ribbonID);return JSON.parse(e)}return C.currentScript.getAttribute("preview")||v("trigger","global",void 0,!0).then(()=>{v(void 0,void 0,void 0,void 0,!0)}),v.ribbonID=B.ribbon.ribbonID,v.ribbonSrcUrl=B.ribbon.ribbonSrcUrl,v.ribbonScriptEnv=B.ribbon.ribbonScriptEnv,v._q=B.ribbon._q,v.triggered=B.ribbon.triggered,v._gtm=B.ribbon._gtm,v.triggerRecruit=E,v.loaded=!0,v}(window,document);